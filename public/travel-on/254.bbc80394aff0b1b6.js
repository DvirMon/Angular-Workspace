"use strict";(self.webpackChunktravel_on=self.webpackChunktravel_on||[]).push([[254],{8254:(Rt,_,l)=>{l.r(_),l.d(_,{PlacesPageComponent:()=>Dt});var t=l(2716),m=l(177),b=l(8834),p=l(9213),f=l(2791);let O=(()=>{class o{constructor(){this.side=(0,t.hFB)("right"),this.label=(0,t.hFB)(),this.routerLink=(0,t.hFB)(),this.clicked=(0,t.CGW)()}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["dom-floating-button"]],inputs:{side:[1,"side"],label:[1,"label"],routerLink:[1,"routerLink"]},outputs:{clicked:"clicked"},standalone:!0,features:[t.aNF],decls:3,vars:17,consts:[["mat-raised-button","","color","accent",3,"click","disableRipple","routerLink"]],template:function(a,n){1&a&&(t.j41(0,"button",0),t.bIt("click",function(){return n.clicked.emit()}),t.EFF(1),t.nI1(2,"titlecase"),t.k0s()),2&a&&(t.xc7("right","left"===n.side()?null:0,"px")("left","right"===n.side()?null:0,"px")("border-top-right-radius","left"===n.side()?25:null,"px")("border-bottom-right-radius","left"===n.side()?25:null,"px")("border-top-left-radius","right"===n.side()?25:null,"px")("border-bottom-left-radius","right"===n.side()?25:null,"px"),t.Y8G("disableRipple",!0)("routerLink",n.routerLink()),t.R7$(),t.SpI(" ",t.bMT(2,15,n.label())," "))},dependencies:[m.MD,m.PV,f.iI,f.Wk,b.Hl,b.$z,p.m_],styles:["button[_ngcontent-%COMP%]{position:fixed;top:64px}"],changeDetection:0})}}return o})();var D=l(1070),c=l(5596),R=l(3273);let L=(()=>{class o{transform(e,a="medium"){const n=this.convertToDate(e);return(0,m.Yq)(n,a,"en-US")}convertToDate(e){return e instanceof R.Dc?e.toDate():e}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275pipe=t.EJ8({name:"dateTimestampPipe",type:o,pure:!0,standalone:!0})}}return o})();var g=l(9969),j=l(9079),A=l(4412),U=l(7786),x=l(5245),v=l(6354),V=l(3236),N=l(8793),M=l(6697),$=l(9974),X=l(4360),z=l(5343),H=l(3703),Q=l(1397),W=l(8750);function C(o,r){return r?e=>(0,N.x)(r.pipe((0,M.s)(1),function Y(){return(0,$.N)((o,r)=>{o.subscribe((0,X._)(r,z.l))})}()),e.pipe(C(o))):(0,Q.Z)((e,a)=>(0,W.Tg)(o(e,a)).pipe((0,M.s)(1),(0,H.u)(e)))}var J=l(1584),d=function(o){return o.DEFAULT="default",o.CHANGED="changeState",o.SELECTED="selected",o}(d||{});let K=(()=>{class o{#e;constructor(){this.selected=t.hFB.required(),this.changed=(0,t.CGW)(),this.isSelected=(0,t.EWP)(()=>this.selected()?d.SELECTED:d.DEFAULT),this.#e=new A.t(d.DEFAULT),this.iconState=(0,j.ot)(this.#t())}#t(){return(0,U.h)(this.#a(),this.#o())}#a(){return this.#e.asObservable().pipe((0,x.i)(1),(0,v.T)(()=>d.CHANGED))}#o(){return this.#e.asObservable().pipe((0,x.i)(1),function Z(o,r=V.E){const e=(0,J.O)(o,r);return C(()=>e)}(300),(0,v.T)(e=>e===d.SELECTED),(0,v.T)(e=>e?d.DEFAULT:d.SELECTED))}onButtonClick(e){if(void 0===e&&(e=this.isSelected()),e===d.CHANGED)return;this.#e.next(e);const a=this.#n(e);this.#i(a)}#n(e){return e===d.DEFAULT?d.SELECTED:d.DEFAULT}#i(e){const a=this.#r(e);this.#l(a)}#l(e){this.changed.emit(e)}#r(e){return{source:this,selected:e!==d.DEFAULT}}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["to-place-card-button"]],inputs:{selected:[1,"selected"]},outputs:{changed:"changed"},standalone:!0,features:[t.aNF],decls:2,vars:1,consts:[["mat-icon-button","",3,"click"],["fontIcon","favorite"]],template:function(a,n){1&a&&(t.j41(0,"button",0),t.bIt("click",function(){return n.onButtonClick(n.iconState())}),t.nrm(1,"mat-icon",1),t.k0s()),2&a&&(t.R7$(),t.Y8G("@iconAnimation",void 0===n.iconState()?n.isSelected():n.iconState()))},dependencies:[m.MD,b.Hl,b.iY,p.m_,p.An],data:{animation:[(0,g.hZ)("iconAnimation",[(0,g.wk)("default",(0,g.iF)({transform:"scale(1)",color:"#707070"})),(0,g.wk)("changeState",(0,g.iF)({transform:"scale(1.2)",color:"#707070"})),(0,g.wk)("selected",(0,g.iF)({transform:"scale(1)",color:"#f73282"})),(0,g.kY)("default <=> changeState",(0,g.i0)("0.1s ease")),(0,g.kY)("selected <=> changeState",(0,g.i0)("0.1s ease"))])]},changeDetection:0})}}return o})();function q(o,r){1&o&&t.eu8(0)}function tt(o,r){if(1&o&&t.DNE(0,q,1,0,"ng-container",2),2&o){const e=t.XpG(),a=t.sdS(2),n=t.sdS(4);t.Y8G("ngTemplateOutlet",e.isGrid()?n:a)}}function et(o,r){if(1&o&&(t.j41(0,"mat-card",3)(1,"mat-card-header"),t.nrm(2,"img",4),t.k0s(),t.j41(3,"mat-card-content"),t.nrm(4,"mat-icon",5),t.j41(5,"mat-card-title"),t.EFF(6),t.k0s(),t.j41(7,"mat-card-subtitle"),t.EFF(8),t.k0s()(),t.j41(9,"mat-card-content")(10,"span"),t.EFF(11),t.nI1(12,"dateTimestampPipe"),t.k0s(),t.j41(13,"span"),t.EFF(14),t.nI1(15,"dateTimestampPipe"),t.k0s()()()),2&o){const e=t.XpG();t.R7$(2),t.Y8G("ngSrc",e.place().imageUrl)("alt",e.place().destination.city),t.R7$(4),t.JRh(e.place().destination.city),t.R7$(2),t.JRh(e.place().destination.country),t.R7$(3),t.SpI(" ",t.i5U(12,6,e.place().takeoff,"EEEE, MMMM d")," "),t.R7$(3),t.SpI(" ",t.i5U(15,9,e.place().landing,"EEEE, MMMM d")," ")}}function at(o,r){if(1&o&&(t.j41(0,"dt",11)(1,"span",13),t.EFF(2),t.k0s()()),2&o){const e=r.$implicit;t.R7$(2),t.SpI(" # ",e," ")}}function ot(o,r){if(1&o){const e=t.RV6();t.j41(0,"mat-card",6)(1,"div",7),t.nrm(2,"img",8),t.k0s(),t.j41(3,"mat-card-header")(4,"mat-card-title"),t.nrm(5,"mat-icon",5),t.EFF(6),t.k0s(),t.j41(7,"to-place-card-button",9),t.bIt("changed",function(n){t.eBV(e);const i=t.XpG();return t.Njj(i.onSelectedChanged(n))}),t.k0s()(),t.j41(8,"mat-card-content")(9,"section")(10,"dl",10),t.Z7z(11,at,3,1,"dt",11,t.Vm6),t.k0s()(),t.j41(13,"section",12)(14,"span")(15,"b"),t.EFF(16,"Takeoff:"),t.k0s(),t.EFF(17),t.nI1(18,"dateTimestampPipe"),t.k0s(),t.j41(19,"span")(20,"b"),t.EFF(21,"Landing:"),t.k0s(),t.EFF(22),t.nI1(23,"dateTimestampPipe"),t.k0s()()(),t.nrm(24,"mat-card-footer"),t.k0s()}if(2&o){const e=t.XpG();t.R7$(2),t.Y8G("ngSrc",e.place().imageUrl)("alt",e.place().destination.city),t.R7$(4),t.Lme(" ",e.place().destination.city,", ",e.place().destination.country," "),t.R7$(),t.Y8G("selected",e.selected()),t.R7$(4),t.Dyx(e.place().activities),t.R7$(6),t.SpI(" ",t.i5U(18,7,e.place().takeoff,"EEEE, MMMM d, h:mm a")," "),t.R7$(5),t.SpI(" ",t.i5U(23,10,e.place().landing,"EEEE, MMMM d, h:mm a")," ")}}let nt=(()=>{class o{constructor(){this.place=t.hFB.required(),this.selected=t.hFB.required(),this.router=(0,t.WQX)(f.Ix),this.isGrid=(0,t.hFB)(!0),this.showOverlay=(0,t.vPA)(!1),this.selectedChanged=(0,t.CGW)()}_createChangedEvent(e){return{selected:e.selected,source:this}}onSelectedChanged(e){const a=this._createChangedEvent(e);this.selectedChanged.emit(a)}onToggleOverlay(){this.showOverlay.update(e=>!e)}onEdit(){this.router.navigateByUrl("admin/"+this.place().id)}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["to-places-card"]],inputs:{place:[1,"place"],selected:[1,"selected"],isGrid:[1,"isGrid"]},outputs:{selectedChanged:"selectedChanged"},standalone:!0,features:[t.aNF],decls:5,vars:1,consts:[["cardTable",""],["cardGrid",""],[4,"ngTemplateOutlet"],[1,"places-list-card"],["mat-card-image","","width","150","height","150",3,"ngSrc","alt"],["fontIcon","location_on"],[1,"places-grid-card"],[1,"w-full","h-64"],["mat-card-image","","fill","",3,"ngSrc","alt"],[3,"changed","selected"],[1,"activities-list"],[1,"activities-item"],[1,"schedule"],[1,"activities-text"]],template:function(a,n){1&a&&t.DNE(0,tt,1,1,"ng-container")(1,et,16,12,"ng-template",null,0,t.C5r)(3,ot,25,13,"ng-template",null,1,t.C5r),2&a&&t.vxM(n.place()?0:-1)},dependencies:[m.MD,m.T3,m.kt,L,c.Hu,c.RN,c.m2,c.WQ,c.MM,c.kF,c.Lc,c.dh,K,p.m_,p.An],styles:["mat-icon[_ngcontent-%COMP%]{color:#9e9e9e;font-size:24px}mat-card.mat-mdc-card.places-grid-card[_ngcontent-%COMP%]   img.mat-mdc-card-image[_ngcontent-%COMP%]{position:relative!important}mat-card.mat-mdc-card.places-grid-card[_ngcontent-%COMP%] > mat-card-header.mat-mdc-card-header[_ngcontent-%COMP%]{justify-content:space-between;align-items:flex-end;gap:8px;padding:0 16px}mat-card.mat-mdc-card.places-grid-card[_ngcontent-%COMP%] > mat-card-header.mat-mdc-card-header[_ngcontent-%COMP%] > div.mat-mdc-card-header-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}mat-card.mat-mdc-card.places-grid-card[_ngcontent-%COMP%]   .mat-mdc-card-title[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;font-size:larger}mat-card.mat-mdc-card.places-grid-card[_ngcontent-%COMP%]   .mat-mdc-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:8px 16px 16px}mat-card.mat-mdc-card.places-grid-card[_ngcontent-%COMP%]   section.schedule[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.mat-mdc-card.places-table-card[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:16px}.mat-mdc-card.places-table-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{padding:8px}.mat-mdc-card.places-table-card[_ngcontent-%COMP%]   .mat-mdc-card-content[_ngcontent-%COMP%]{padding:8px;display:flex;flex-direction:column;justify-content:center;gap:16px;flex-grow:1}div.image-overlay-container[_ngcontent-%COMP%]{position:relative}div.overlay[_ngcontent-%COMP%]{height:100%;position:absolute;inset:0;background:#3f51b599;color:#fff;font-weight:550;display:flex;flex-direction:column;align-items:center;justify-content:center;opacity:0}dl.activities-list[_ngcontent-%COMP%]{display:flex;gap:8px;min-height:32px}dl.activities-list[_ngcontent-%COMP%] > dt.activities-item[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#e0e0e0;border-radius:24px}dl.activities-list[_ngcontent-%COMP%] > dt.activities-item[_ngcontent-%COMP%] > span.activities-text[_ngcontent-%COMP%]{padding:0 16px}"],changeDetection:0})}}return o})();var T=l(2234);const it=()=>({height:"256px"}),lt=()=>({height:"20px",width:"250px"}),rt=()=>({height:"32px",width:"100px",borderRadius:"24px"}),y=()=>({height:"14px",width:"180px"});let st=(()=>{class o{static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["to-place-skeleton"]],standalone:!0,features:[t.aNF],decls:14,vars:11,consts:[[1,"places-skeleton"],[1,"w-full","h-64",3,"theme"],[3,"count","theme"],[1,"button-skeleton"],["appearance","circle"],[1,"activities"],[3,"theme"],[1,"schedule"]],template:function(a,n){1&a&&(t.j41(0,"mat-card",0),t.nrm(1,"ngx-skeleton-loader",1),t.j41(2,"mat-card-header")(3,"mat-card-title"),t.nrm(4,"ngx-skeleton-loader",2),t.k0s(),t.j41(5,"div",3),t.nrm(6,"ngx-skeleton-loader",4),t.k0s()(),t.j41(7,"mat-card-content")(8,"section",5),t.nrm(9,"ngx-skeleton-loader",6),t.k0s(),t.j41(10,"section",7),t.nrm(11,"ngx-skeleton-loader",6)(12,"ngx-skeleton-loader",6),t.k0s()(),t.nrm(13,"mat-card-footer"),t.k0s()),2&a&&(t.R7$(),t.Y8G("theme",t.lJ4(6,it)),t.R7$(3),t.Y8G("count",1)("theme",t.lJ4(7,lt)),t.R7$(5),t.Y8G("theme",t.lJ4(8,rt)),t.R7$(2),t.Y8G("theme",t.lJ4(9,y)),t.R7$(),t.Y8G("theme",t.lJ4(10,y)))},dependencies:[c.Hu,c.RN,c.m2,c.WQ,c.MM,c.dh,T.Yq,T.Zm],styles:["mat-card.mat-mdc-card.places-skeleton[_ngcontent-%COMP%]   img.mat-mdc-card-image[_ngcontent-%COMP%]{position:relative!important}mat-card.mat-mdc-card.places-skeleton[_ngcontent-%COMP%] > mat-card-header.mat-mdc-card-header[_ngcontent-%COMP%]{justify-content:space-between;align-items:flex-end;gap:16px;padding:0 16px}mat-card.mat-mdc-card.places-skeleton[_ngcontent-%COMP%] > mat-card-header.mat-mdc-card-header[_ngcontent-%COMP%] > div.mat-mdc-card-header-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}mat-card.mat-mdc-card.places-skeleton[_ngcontent-%COMP%]   .mat-mdc-card-title[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center;font-size:larger}mat-card.mat-mdc-card.places-skeleton[_ngcontent-%COMP%]   .mat-mdc-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:8px 16px 16px}mat-card.mat-mdc-card.places-skeleton[_ngcontent-%COMP%]   section.schedule[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}mat-card.mat-mdc-card.places-skeleton[_ngcontent-%COMP%]   .button-skeleton[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"],changeDetection:0})}}return o})();const ct=(o,r)=>r.id,dt=()=>[nt];function gt(o,r){if(1&o){const e=t.RV6();t.j41(0,"to-places-card",1),t.bIt("selectedChanged",function(n){t.eBV(e);const i=t.XpG(2);return t.Njj(i.onSelectedChanged(n))}),t.k0s()}if(2&o){const e=r.$implicit,a=t.XpG(2);t.Y8G("place",e)("selected",a.selection()[e.id])("isGrid",a.isGrid())}}function ut(o,r){if(1&o&&t.Z7z(0,gt,1,3,"to-places-card",0,ct),2&o){const e=t.XpG();t.Dyx(e.places())}}function mt(o,r){1&o&&t.nrm(0,"to-place-skeleton")}function pt(o,r){if(1&o&&t.Z7z(0,mt,1,0,"to-place-skeleton",null,t.Vm6),2&o){const e=t.XpG();t.Dyx(e.placesSkeleton)}}let ht=(()=>{class o{constructor(){this.placesSkeleton=new Array(6),this.places=t.hFB.required(),this.selection=t.hFB.required(),this.isLoaded=t.hFB.required(),this.isGrid=(0,t.hFB)(!0),this.selectionChanged=(0,t.CGW)(),this.gridClass=(0,t.EWP)(()=>this.isGrid()?"grid-container":"list-container")}onSelectedChanged(e){const{source:a,selected:n}=e,{place:i}=a;this._emitChangeEvent({placeId:i().id,selected:n})}_emitChangeEvent(e){this.selectionChanged.emit({source:this,currentSelection:e})}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["to-places-list"]],inputs:{places:[1,"places"],selection:[1,"selection"],isLoaded:[1,"isLoaded"],isGrid:[1,"isGrid"]},outputs:{selectionChanged:"selectionChanged"},standalone:!0,features:[t.aNF],decls:5,vars:3,consts:[[3,"place","selected","isGrid"],[3,"selectedChanged","place","selected","isGrid"]],template:function(a,n){1&a&&(t.j41(0,"div"),t.DNE(1,ut,2,0)(2,pt,2,0),t.nv$(3,1,dt,null,2),t.k0s()),2&a&&(t.HbH(n.gridClass()),t.R7$(3),t.LVR(n.isLoaded()))},dependencies:[st],styles:[".grid-container[_ngcontent-%COMP%]{display:grid;gap:24px;grid-template-columns:repeat(auto-fill,minmax(400px,1fr))}.list-container[_ngcontent-%COMP%]{display:grid;gap:24px;grid-template-columns:repeat(2,1fr)}"],changeDetection:0})}}return o})();var bt=l(9571),ft=l(2643),h=l(7336),vt=l(8203),kt=l(9417),G=l(6600);const _t=["button"],xt=["*"];function Mt(o,r){if(1&o&&t.nrm(0,"mat-pseudo-checkbox",3),2&o){const e=t.XpG();t.Y8G("disabled",e.disabled)}}function Ct(o,r){if(1&o&&t.nrm(0,"mat-pseudo-checkbox",3),2&o){const e=t.XpG();t.Y8G("disabled",e.disabled)}}const S=new t.nKC("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:function Tt(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1}}}),F=new t.nKC("MatButtonToggleGroup"),yt={provide:kt.kq,useExisting:(0,t.Rfq)(()=>E),multi:!0};let P=0;class B{constructor(r,e){this.source=r,this.value=e}}let E=(()=>{class o{get name(){return this._name}set name(e){this._name=e,this._markButtonsForCheck()}get value(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(a=>a.value):e[0]?e[0].value:void 0}set value(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)}get selected(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e:e[0]||null}get multiple(){return this._multiple}set multiple(e){this._multiple=e,this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._markButtonsForCheck()}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._markButtonsForCheck()}get hideMultipleSelectionIndicator(){return this._hideMultipleSelectionIndicator}set hideMultipleSelectionIndicator(e){this._hideMultipleSelectionIndicator=e,this._markButtonsForCheck()}constructor(e,a,n){this._changeDetector=e,this._dir=n,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+P++,this.valueChange=new t.bkB,this.change=new t.bkB,this.appearance=a&&a.appearance?a.appearance:"standard",this.hideSingleSelectionIndicator=a?.hideSingleSelectionIndicator??!1,this.hideMultipleSelectionIndicator=a?.hideMultipleSelectionIndicator??!1}ngOnInit(){this._selectionModel=new ft.CB(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(e=>e.checked)),this.multiple||this._initializeTabIndex()}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_keydown(e){if(this.multiple||this.disabled)return;const n=e.target.id,i=this._buttonToggles.toArray().findIndex(u=>u.buttonId===n);let s=null;switch(e.keyCode){case h.t6:case h.Fm:s=this._buttonToggles.get(i)||null;break;case h.i7:s=this._getNextButton(i,-1);break;case h.UQ:s=this._getNextButton(i,"ltr"===this.dir?-1:1);break;case h.n6:s=this._getNextButton(i,1);break;case h.LE:s=this._getNextButton(i,"ltr"===this.dir?1:-1);break;default:return}s&&(e.preventDefault(),s._onButtonClick(),s.focus())}_emitChangeEvent(e){const a=new B(e,this.value);this._rawValue=a.value,this._controlValueAccessorChangeFn(a.value),this.change.emit(a)}_syncButtonToggle(e,a,n=!1,i=!1){!this.multiple&&this.selected&&!e.checked&&(this.selected.checked=!1),this._selectionModel?a?this._selectionModel.select(e):this._selectionModel.deselect(e):i=!0,i?Promise.resolve().then(()=>this._updateModelValue(e,n)):this._updateModelValue(e,n)}_isSelected(e){return this._selectionModel&&this._selectionModel.isSelected(e)}_isPrechecked(e){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(a=>null!=e.value&&a===e.value):e.value===this._rawValue)}_initializeTabIndex(){if(this._buttonToggles.forEach(e=>{e.tabIndex=-1}),this.selected)this.selected.tabIndex=0;else for(let e=0;e<this._buttonToggles.length;e++){const a=this._buttonToggles.get(e);if(!a.disabled){a.tabIndex=0;break}}this._markButtonsForCheck()}_getNextButton(e,a){const n=this._buttonToggles;for(let i=1;i<=n.length;i++){const u=n.get((e+a*i+n.length)%n.length);if(u&&!u.disabled)return u}return null}_setSelectionByValue(e){this._rawValue=e,this._buttonToggles&&(this.multiple&&e?(Array.isArray(e),this._clearSelection(),e.forEach(a=>this._selectValue(a))):(this._clearSelection(),this._selectValue(e)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(e=>{e.checked=!1,this.multiple||(e.tabIndex=-1)})}_selectValue(e){const a=this._buttonToggles.find(n=>null!=n.value&&n.value===e);a&&(a.checked=!0,this._selectionModel.select(a),this.multiple||(a.tabIndex=0))}_updateModelValue(e,a){a&&this._emitChangeEvent(e),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(e=>e._markForCheck())}static{this.\u0275fac=function(a){return new(a||o)(t.rXU(t.gRc),t.rXU(S,8),t.rXU(vt.dS,8))}}static{this.\u0275dir=t.FsC({type:o,selectors:[["mat-button-toggle-group"]],contentQueries:function(a,n,i){if(1&a&&t.wni(i,I,5),2&a){let s;t.mGM(s=t.lsd())&&(n._buttonToggles=s)}},hostAttrs:[1,"mat-button-toggle-group"],hostVars:6,hostBindings:function(a,n){1&a&&t.bIt("keydown",function(s){return n._keydown(s)}),2&a&&(t.BMQ("role",n.multiple?"group":"radiogroup")("aria-disabled",n.disabled),t.AVh("mat-button-toggle-vertical",n.vertical)("mat-button-toggle-group-appearance-standard","standard"===n.appearance))},inputs:{appearance:"appearance",name:"name",vertical:[2,"vertical","vertical",t.L39],value:"value",multiple:[2,"multiple","multiple",t.L39],disabled:[2,"disabled","disabled",t.L39],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",t.L39],hideMultipleSelectionIndicator:[2,"hideMultipleSelectionIndicator","hideMultipleSelectionIndicator",t.L39]},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],standalone:!0,features:[t.Jv_([yt,{provide:F,useExisting:o}]),t.GFd]})}}return o})(),I=(()=>{class o{get buttonId(){return`${this.id}-button`}get tabIndex(){return this._tabIndex}set tabIndex(e){this._tabIndex=e,this._markForCheck()}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=e}constructor(e,a,n,i,s,u){this._changeDetectorRef=a,this._elementRef=n,this._focusMonitor=i,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new t.bkB;const k=Number(s);this.tabIndex=k||0===k?k:null,this.buttonToggleGroup=e,this.appearance=u&&u.appearance?u.appearance:"standard"}ngOnInit(){const e=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+P++,e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){const e=!!this.isSingleSelector()||!this._checked;if(e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){const a=this.buttonToggleGroup._buttonToggles.find(n=>0===n.tabIndex);a&&(a.tabIndex=-1),this.tabIndex=0}this.change.emit(new B(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static{this.\u0275fac=function(a){return new(a||o)(t.rXU(F,8),t.rXU(t.gRc),t.rXU(t.aKT),t.rXU(bt.FN),t.kS0("tabindex"),t.rXU(S,8))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["mat-button-toggle"]],viewQuery:function(a,n){if(1&a&&t.GBs(_t,5),2&a){let i;t.mGM(i=t.lsd())&&(n._buttonElement=i.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(a,n){1&a&&t.bIt("focus",function(){return n.focus()}),2&a&&(t.BMQ("aria-label",null)("aria-labelledby",null)("id",n.id)("name",null),t.AVh("mat-button-toggle-standalone",!n.buttonToggleGroup)("mat-button-toggle-checked",n.checked)("mat-button-toggle-disabled",n.disabled)("mat-button-toggle-appearance-standard","standard"===n.appearance))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",t.L39],appearance:"appearance",checked:[2,"checked","checked",t.L39],disabled:[2,"disabled","disabled",t.L39]},outputs:{change:"change"},exportAs:["matButtonToggle"],standalone:!0,features:[t.GFd,t.aNF],ngContentSelectors:xt,decls:8,vars:13,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-label-content"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(a,n){if(1&a){const i=t.RV6();t.NAR(),t.j41(0,"button",1,0),t.bIt("click",function(){return t.eBV(i),t.Njj(n._onButtonClick())}),t.j41(2,"span",2),t.DNE(3,Mt,1,1,"mat-pseudo-checkbox",3)(4,Ct,1,1,"mat-pseudo-checkbox",3),t.SdG(5),t.k0s()(),t.nrm(6,"span",4)(7,"span",5)}if(2&a){const i=t.sdS(1);t.Y8G("id",n.buttonId)("disabled",n.disabled||null),t.BMQ("role",n.isSingleSelector()?"radio":"button")("tabindex",n.disabled?-1:n.tabIndex)("aria-pressed",n.isSingleSelector()?null:n.checked)("aria-checked",n.isSingleSelector()?n.checked:null)("name",n._getButtonName())("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby),t.R7$(3),t.vxM(n.buttonToggleGroup&&n.checked&&!n.buttonToggleGroup.multiple&&!n.buttonToggleGroup.hideSingleSelectionIndicator?3:-1),t.R7$(),t.vxM(n.buttonToggleGroup&&n.checked&&n.buttonToggleGroup.multiple&&!n.buttonToggleGroup.hideMultipleSelectionIndicator?4:-1),t.R7$(3),t.Y8G("matRippleTrigger",i)("matRippleDisabled",n.disableRipple||n.disabled)}},dependencies:[G.r6,G.wg],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape);border:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var( --mat-standard-button-toggle-selected-state-text-color )}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var( --mat-legacy-button-toggle-selected-state-text-color )}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle .mat-pseudo-checkbox{margin-right:12px}[dir=rtl] .mat-button-toggle .mat-pseudo-checkbox{margin-right:0;margin-left:12px}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var( --mat-legacy-button-toggle-disabled-state-text-color )}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color);background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-label-text-font);font-size:var(--mat-standard-button-toggle-label-text-size);line-height:var(--mat-standard-button-toggle-label-text-line-height);font-weight:var(--mat-standard-button-toggle-label-text-weight);letter-spacing:var(--mat-standard-button-toggle-label-text-tracking)}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color)}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color);background-color:var(--mat-standard-button-toggle-selected-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var( --mat-standard-button-toggle-disabled-selected-state-text-color )}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color)}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity)}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity)}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape)}.mat-button-toggle-group-appearance-standard .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape);border-bottom-right-radius:var(--mat-standard-button-toggle-shape)}.mat-button-toggle-group-appearance-standard .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape);border-bottom-left-radius:var(--mat-standard-button-toggle-shape)}"],encapsulation:2,changeDetection:0})}}return o})();var Gt=l(6860);const St=["*",[["mat-toolbar-row"]]],Ft=["*","mat-toolbar-row"];let Pt=(()=>{class o{static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275dir=t.FsC({type:o,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}}return o})(),Bt=(()=>{class o{constructor(e,a,n){this._elementRef=e,this._platform=a,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static{this.\u0275fac=function(a){return new(a||o)(t.rXU(t.aKT),t.rXU(Gt.OD),t.rXU(m.qQ))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["mat-toolbar"]],contentQueries:function(a,n,i){if(1&a&&t.wni(i,Pt,5),2&a){let s;t.mGM(s=t.lsd())&&(n._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(a,n){2&a&&(t.HbH(n.color?"mat-"+n.color:""),t.AVh("mat-toolbar-multiple-rows",n._toolbarRows.length>0)("mat-toolbar-single-row",0===n._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[t.aNF],ngContentSelectors:Ft,decls:2,vars:0,template:function(a,n){1&a&&(t.NAR(St),t.SdG(0),t.SdG(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return o})(),w=(()=>{class o{constructor(){this._isGrid=(0,t.vPA)(!0)}getIsGrid(){return this._isGrid}toggleIsGrid(){this._isGrid.update(e=>!e)}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})(),Et=(()=>{class o{#e=(0,t.WQX)(w);onToggleChanged(){this.#e.toggleIsGrid()}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["to-places-header"]],standalone:!0,features:[t.aNF],decls:8,vars:0,consts:[[1,"w-full"],[1,"flex-1"],["value","grid",3,"change"],["value","grid"],["fontIcon","grid_view"],["value","table"],["fontIcon","table_view"]],template:function(a,n){1&a&&(t.j41(0,"mat-toolbar",0),t.nrm(1,"section",1),t.j41(2,"section")(3,"mat-button-toggle-group",2),t.bIt("change",function(){return n.onToggleChanged()}),t.j41(4,"mat-button-toggle",3),t.nrm(5,"mat-icon",4),t.k0s(),t.j41(6,"mat-button-toggle",5),t.nrm(7,"mat-icon",6),t.k0s()()()())},dependencies:[Bt,I,E,p.An],styles:["mat-toolbar[_ngcontent-%COMP%]{background-color:transparent;padding:0}  mat-button-toggle mat-pseudo-checkbox{display:none!important}"],changeDetection:0})}}return o})();var It=l(6401);let Dt=(()=>{class o{#e;#t;#a;constructor(){this.#e=(0,t.WQX)(t.zZn),this.#t=(0,t.WQX)(It.t),this.#a=(0,t.WQX)(w),this.userId=t.hFB.required(),this.places=this.#t.placesEntities,this.selection=this.#t.favoriteMap,this.isLoaded=this.#t.isLoaded,this.isGrid=this.#a.getIsGrid()}ngOnInit(){this.#t.loadPlaces(),this.#t.loadFavorites(this.userId)}onSelectionChanged(e){const{currentSelection:a}=e,n=function Ot(o,r){const{vacationIds:e}=o,a=function wt(o,r){const{placeId:e,selected:a}=o;return a?[...r,e]:r.filter(n=>n!==e)}(r,e);return{...o,vacationIds:[...a]}}(this.#t.favorite(),a);this.#t.updateFavoriteDB(n)}onLogout(){(0,t.N4e)(this.#e,()=>(0,t.WQX)(D.a).logout())}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["to-places"]],inputs:{userId:[1,"userId"]},standalone:!0,features:[t.aNF],decls:8,vars:5,consts:[[1,"places-wrapper"],[1,"h-40","flex","justify-center","items-center"],[1,"places-header-wrapper","w-10/12"],[3,"clicked","label"],[1,"places-content-wrapper","w-10/12"],[3,"selectionChanged","places","selection","isLoaded","isGrid"]],template:function(a,n){1&a&&(t.j41(0,"div",0)(1,"header",1)(2,"div",2),t.nrm(3,"to-places-header"),t.k0s(),t.j41(4,"dom-floating-button",3),t.bIt("clicked",function(){return n.onLogout()}),t.k0s()(),t.j41(5,"main")(6,"div",4)(7,"to-places-list",5),t.bIt("selectionChanged",function(s){return n.onSelectionChanged(s)}),t.k0s()()()()),2&a&&(t.R7$(4),t.Y8G("label","Logout"),t.R7$(3),t.Y8G("places",n.places())("selection",n.selection())("isLoaded",n.isLoaded())("isGrid",n.isGrid()))},dependencies:[Et,ht,O],styles:["div.places-wrapper[_ngcontent-%COMP%]{background-image:url(user.9ff56192b726b238.jpg);background-attachment:fixed;background-size:cover;background-position:center;min-height:100vh}main[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:row;justify-content:center}div.places-content-container[_ngcontent-%COMP%]{height:100%;justify-content:center;display:flex}"],changeDetection:0})}}return o})()}}]);