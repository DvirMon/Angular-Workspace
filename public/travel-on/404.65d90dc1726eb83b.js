"use strict";(self.webpackChunktravel_on=self.webpackChunktravel_on||[]).push([[404],{2643:(M,S,_)=>{_.d(S,{CB:()=>n}),_(4402),_(7673);var y=_(1413);_(2716);class n{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,t,s=!0,u){this._multiple=e,this._emitChanges=s,this.compareWith=u,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new y.B,t&&t.length&&(e?t.forEach(r=>this._markSelected(r)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(s=>this._markSelected(s));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(s=>this._unmarkSelected(s));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,s=new Set(e);e.forEach(r=>this._markSelected(r)),t.filter(r=>!s.has(this._getConcreteValue(r,s))).forEach(r=>this._unmarkSelected(r));const u=this._hasQueuedChanges();return this._emitChangeEvent(),u}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e,t){if(this.compareWith){t=t??this._selection;for(let s of t)if(this.compareWith(e,s))return s;return e}return e}}},9079:(M,S,_)=>{_.d(S,{ot:()=>v,pQ:()=>D});var l=_(2716),b=_(1985),y=_(6977);function D(o){o||((0,l.Af3)(D),o=(0,l.WQX)(l.abz));const n=new b.c(c=>o.onDestroy(c.next.bind(c)));return c=>c.pipe((0,y.Q)(n))}function v(o,n){const c=!n?.manualCleanup;c&&!n?.injector&&(0,l.Af3)(v);const a=c?n?.injector?.get(l.abz)??(0,l.WQX)(l.abz):null,i=function w(o=Object.is){return(n,c)=>1===n.kind&&1===c.kind&&o(n.value,c.value)}(n?.equal);let e;e=(0,l.vPA)(n?.requireSync?{kind:0}:{kind:1,value:n?.initialValue},{equal:i});const t=o.subscribe({next:s=>e.set({kind:1,value:s}),error:s=>{if(n?.rejectErrors)throw s;e.set({kind:2,error:s})}});return a?.onDestroy(t.unsubscribe.bind(t)),(0,l.EWP)(()=>{const s=e();switch(s.kind){case 1:return s.value;case 2:throw s.error;case 0:throw new l.wOt(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}},{equal:n?.equal})}}}]);